webpackJsonp([2,5],[function(o,e,a){!function(o,e){function a(){var e=n.getBoundingClientRect().width;e/l>540&&(e=540*l);var a=e/10;n.style.fontSize=a+"px",p.rem=o.rem=a}var t,i=o.document,n=i.documentElement,s=i.querySelector('meta[name="viewport"]'),r=i.querySelector('meta[name="flexible"]'),l=0,c=0,p=e.flexible||(e.flexible={});if(s){console.warn("将根据已有的meta标签来设置缩放比例");var d=s.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(c=parseFloat(d[1]),l=parseInt(1/c))}else if(r){var h=r.getAttribute("content");if(h){var m=h.match(/initial\-dpr=([\d\.]+)/),u=h.match(/maximum\-dpr=([\d\.]+)/);m&&(l=parseFloat(m[1]),c=parseFloat((1/l).toFixed(2))),u&&(l=parseFloat(u[1]),c=parseFloat((1/l).toFixed(2)))}}if(!l&&!c){var $=(o.navigator.appVersion.match(/android/gi),o.navigator.appVersion.match(/iphone/gi)),w=o.devicePixelRatio;l=$?w>=3&&(!l||l>=3)?3:w>=2&&(!l||l>=2)?2:1:1,c=1/l}if(n.setAttribute("data-dpr",l),!s)if(s=i.createElement("meta"),s.setAttribute("name","viewport"),s.setAttribute("content","initial-scale="+c+", maximum-scale="+c+", minimum-scale="+c+", user-scalable=no"),n.firstElementChild)n.firstElementChild.appendChild(s);else{var g=i.createElement("div");g.appendChild(s),i.write(g.innerHTML)}o.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(a,300)},!1),o.addEventListener("pageshow",function(o){o.persisted&&(clearTimeout(t),t=setTimeout(a,300))},!1),"complete"===i.readyState?i.body.style.fontSize=12*l+"px":i.addEventListener("DOMContentLoaded",function(o){i.body.style.fontSize=12*l+"px"},!1),a(),p.dpr=o.dpr=l,p.refreshRem=a,p.rem2px=function(o){var e=parseFloat(o)*this.rem;return"string"==typeof o&&o.match(/rem$/)&&(e+="px"),e},p.px2rem=function(o){var e=parseFloat(o)/this.rem;return"string"==typeof o&&o.match(/px$/)&&(e+="rem"),e}}(window,window.lib||(window.lib={}))}]);
//# sourceMappingURL=flexible.js.map