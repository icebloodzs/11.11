webpackJsonp([1,5],[function(e,t,a){!function(e,t){function a(){var t=i.getBoundingClientRect().width;t/l>540&&(t=540*l);var a=t/10;i.style.fontSize=a+"px",p.rem=e.rem=a}var o,n=e.document,i=n.documentElement,r=n.querySelector('meta[name="viewport"]'),s=n.querySelector('meta[name="flexible"]'),l=0,c=0,p=t.flexible||(t.flexible={});if(r){console.warn("将根据已有的meta标签来设置缩放比例");var d=r.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(c=parseFloat(d[1]),l=parseInt(1/c))}else if(s){var m=s.getAttribute("content");if(m){var u=m.match(/initial\-dpr=([\d\.]+)/),h=m.match(/maximum\-dpr=([\d\.]+)/);u&&(l=parseFloat(u[1]),c=parseFloat((1/l).toFixed(2))),h&&(l=parseFloat(h[1]),c=parseFloat((1/l).toFixed(2)))}}if(!l&&!c){var f=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),g=e.devicePixelRatio;l=f?g>=3&&(!l||l>=3)?3:g>=2&&(!l||l>=2)?2:1:1,c=1/l}if(i.setAttribute("data-dpr",l),!r)if(r=n.createElement("meta"),r.setAttribute("name","viewport"),r.setAttribute("content","initial-scale="+c+", maximum-scale="+c+", minimum-scale="+c+", user-scalable=no"),i.firstElementChild)i.firstElementChild.appendChild(r);else{var v=n.createElement("div");v.appendChild(r),n.write(v.innerHTML)}e.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(a,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(o),o=setTimeout(a,300))},!1),"complete"===n.readyState?n.body.style.fontSize=12*l+"px":n.addEventListener("DOMContentLoaded",function(e){n.body.style.fontSize=12*l+"px"},!1),a(),p.dpr=e.dpr=l,p.refreshRem=a,p.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},p.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}))}]);
//# sourceMappingURL=flexible.js.map