webpackJsonp([1,4],[function(e,i,o){!function(e,i){function o(){var i=n.getBoundingClientRect().width;i/g>540&&(i=540*g);var o=i/10;n.style.fontSize=o+"px",l.rem=e.rem=o}var t,a=e.document,n=a.documentElement,r=a.querySelector('meta[name="viewport"]'),s=a.querySelector('meta[name="flexible"]'),g=0,m=0,l=i.flexible||(i.flexible={});if(r){console.warn("将根据已有的meta标签来设置缩放比例");var d=r.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(m=parseFloat(d[1]),g=parseInt(1/m))}else if(s){var p=s.getAttribute("content");if(p){var c=p.match(/initial\-dpr=([\d\.]+)/),f=p.match(/maximum\-dpr=([\d\.]+)/);c&&(g=parseFloat(c[1]),m=parseFloat((1/g).toFixed(2))),f&&(g=parseFloat(f[1]),m=parseFloat((1/g).toFixed(2)))}}if(!g&&!m){var h=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),u=e.devicePixelRatio;g=h?u>=3&&(!g||g>=3)?3:u>=2&&(!g||g>=2)?2:1:1,m=1/g}if(n.setAttribute("data-dpr",g),!r)if(r=a.createElement("meta"),r.setAttribute("name","viewport"),r.setAttribute("content","initial-scale="+m+", maximum-scale="+m+", minimum-scale="+m+", user-scalable=no"),n.firstElementChild)n.firstElementChild.appendChild(r);else{var x=a.createElement("div");x.appendChild(r),a.write(x.innerHTML)}e.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(o,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(t),t=setTimeout(o,300))},!1),"complete"===a.readyState?a.body.style.fontSize=12*g+"px":a.addEventListener("DOMContentLoaded",function(e){a.body.style.fontSize=12*g+"px"},!1),o(),l.dpr=e.dpr=g,l.refreshRem=o,l.rem2px=function(e){var i=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(i+="px"),i},l.px2rem=function(e){var i=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(i+="rem"),i}}(window,window.lib||(window.lib={}))}]);
//# sourceMappingURL=flexible.js.map