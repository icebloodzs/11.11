webpackJsonp([0,2],[function(o,a,e){!function(o,a){function e(){var a=n.getBoundingClientRect().width;a/c>540&&(a=540*c);var e=a/10;n.style.fontSize=e+"px",p.rem=o.rem=e}var s,t=o.document,n=t.documentElement,i=t.querySelector('meta[name="viewport"]'),r=t.querySelector('meta[name="flexible"]'),c=0,l=0,p=a.flexible||(a.flexible={});if(i){console.warn("将根据已有的meta标签来设置缩放比例");var d=i.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(l=parseFloat(d[1]),c=parseInt(1/l))}else if(r){var h=r.getAttribute("content");if(h){var u=h.match(/initial\-dpr=([\d\.]+)/),$=h.match(/maximum\-dpr=([\d\.]+)/);u&&(c=parseFloat(u[1]),l=parseFloat((1/c).toFixed(2))),$&&(c=parseFloat($[1]),l=parseFloat((1/c).toFixed(2)))}}if(!c&&!l){var g=(o.navigator.appVersion.match(/android/gi),o.navigator.appVersion.match(/iphone/gi)),f=o.devicePixelRatio;c=g?f>=3&&(!c||c>=3)?3:f>=2&&(!c||c>=2)?2:1:1,l=1/c}if(n.setAttribute("data-dpr",c),!i)if(i=t.createElement("meta"),i.setAttribute("name","viewport"),i.setAttribute("content","initial-scale="+l+", maximum-scale="+l+", minimum-scale="+l+", user-scalable=no"),n.firstElementChild)n.firstElementChild.appendChild(i);else{var w=t.createElement("div");w.appendChild(i),t.write(w.innerHTML)}o.addEventListener("resize",function(){clearTimeout(s),s=setTimeout(e,300)},!1),o.addEventListener("pageshow",function(o){o.persisted&&(clearTimeout(s),s=setTimeout(e,300))},!1),"complete"===t.readyState?t.body.style.fontSize=12*c+"px":t.addEventListener("DOMContentLoaded",function(o){t.body.style.fontSize=12*c+"px"},!1),e(),p.dpr=o.dpr=c,p.refreshRem=e,p.rem2px=function(o){var a=parseFloat(o)*this.rem;return"string"==typeof o&&o.match(/rem$/)&&(a+="px"),a},p.px2rem=function(o){var a=parseFloat(o)/this.rem;return"string"==typeof o&&o.match(/px$/)&&(a+="rem"),a}}(window,window.lib||(window.lib={}))}]);
//# sourceMappingURL=flexible.js.map