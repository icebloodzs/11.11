webpackJsonp([4,5],[function(e,o,t){!function(e,o){function t(){var o=i.getBoundingClientRect().width;o/c>540&&(o=540*c);var t=o/10;i.style.fontSize=t+"px",p.rem=e.rem=t}var a,n=e.document,i=n.documentElement,s=n.querySelector('meta[name="viewport"]'),r=n.querySelector('meta[name="flexible"]'),c=0,l=0,p=o.flexible||(o.flexible={});if(s){console.warn("将根据已有的meta标签来设置缩放比例");var d=s.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(l=parseFloat(d[1]),c=parseInt(1/l))}else if(r){var h=r.getAttribute("content");if(h){var u=h.match(/initial\-dpr=([\d\.]+)/),m=h.match(/maximum\-dpr=([\d\.]+)/);u&&(c=parseFloat(u[1]),l=parseFloat((1/c).toFixed(2))),m&&(c=parseFloat(m[1]),l=parseFloat((1/c).toFixed(2)))}}if(!c&&!l){var f=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),g=e.devicePixelRatio;c=f?g>=3&&(!c||c>=3)?3:g>=2&&(!c||c>=2)?2:1:1,l=1/c}if(i.setAttribute("data-dpr",c),!s)if(s=n.createElement("meta"),s.setAttribute("name","viewport"),s.setAttribute("content","initial-scale="+l+", maximum-scale="+l+", minimum-scale="+l+", user-scalable=no"),i.firstElementChild)i.firstElementChild.appendChild(s);else{var w=n.createElement("div");w.appendChild(s),n.write(w.innerHTML)}e.addEventListener("resize",function(){clearTimeout(a),a=setTimeout(t,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(a),a=setTimeout(t,300))},!1),"complete"===n.readyState?n.body.style.fontSize=12*c+"px":n.addEventListener("DOMContentLoaded",function(e){n.body.style.fontSize=12*c+"px"},!1),t(),p.dpr=e.dpr=c,p.refreshRem=t,p.rem2px=function(e){var o=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(o+="px"),o},p.px2rem=function(e){var o=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(o+="rem"),o}}(window,window.lib||(window.lib={}))}]);
//# sourceMappingURL=flexible.js.map