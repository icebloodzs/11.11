webpackJsonp([2,5],[function(e,t,n){!function(e,t){function n(){var t=a.getBoundingClientRect().width;t/p>540&&(t=540*p);var n=t/10;a.style.fontSize=n+"px",s.rem=e.rem=n}var r,i=e.document,a=i.documentElement,o=i.querySelector('meta[name="viewport"]'),m=i.querySelector('meta[name="flexible"]'),p=0,u=0,s=t.flexible||(t.flexible={});if(o){console.warn("将根据已有的meta标签来设置缩放比例");var l=o.getAttribute("content").match(/initial\-scale=([\d\.]+)/);l&&(u=parseFloat(l[1]),p=parseInt(1/u))}else if(m){var c=m.getAttribute("content");if(c){var f=c.match(/initial\-dpr=([\d\.]+)/),d=c.match(/maximum\-dpr=([\d\.]+)/);f&&(p=parseFloat(f[1]),u=parseFloat((1/p).toFixed(2))),d&&(p=parseFloat(d[1]),u=parseFloat((1/p).toFixed(2)))}}if(!p&&!u){var h=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),b=e.devicePixelRatio;p=h?b>=3&&(!p||p>=3)?3:b>=2&&(!p||p>=2)?2:1:1,u=1/p}if(a.setAttribute("data-dpr",p),!o)if(o=i.createElement("meta"),o.setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+u+", maximum-scale="+u+", minimum-scale="+u+", user-scalable=no"),a.firstElementChild)a.firstElementChild.appendChild(o);else{var v=i.createElement("div");v.appendChild(o),i.write(v.innerHTML)}e.addEventListener("resize",function(){clearTimeout(r),r=setTimeout(n,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(r),r=setTimeout(n,300))},!1),"complete"===i.readyState?i.body.style.fontSize=12*p+"px":i.addEventListener("DOMContentLoaded",function(e){i.body.style.fontSize=12*p+"px"},!1),n(),s.dpr=e.dpr=p,s.refreshRem=n,s.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},s.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}))}]);
//# sourceMappingURL=flexible.js.map